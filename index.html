<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
        integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style>
        .mostrar {
            display: none;
        }

        #paso-2 {
            display: none;
        }

        .my-border {
            border-style: solid;
            border-radius: 15px;
            border-color: rgb(23, 124, 45);
            padding: 30px;
        }
    </style>
    <title>Document</title>
</head>

<body>
    <div class="container mt-3 text-center">
        <h1 class="mb-4">Cotizador</h1>
        <div class="my-border">
            <div id="paso-1">
                <label for="valor">¿Cual es el valor de la vivienda a comprar?</label>
                <input type="number" class="form-control mb-3" id="valor" placeholder="$2,000,000" />
                <label for="importe">¿Cual es el importe de credito que necesitas?</label>
                <input type="number" class="form-control mb-3" id="importe" placeholder="$1,000,000" />
                <label for="plazo">Plazo</label>
                <select class="form-control mb-3" id="plazo">
                    <option selected disabled>Elije...</option>
                    <option value="10">10 años</option>
                    <option value="15">15 años</option>
                    <option value="20">20 años</option>
                </select>
                <label for="esquema">Esquema</label>
                <select class="form-control mb-3" id="esquema">
                    <option selected value="fijo">Pago fijo</option>
                </select>
                <label for="banco">Banco</label>
                <select class="form-control mb-3" id="banco">
                    <option selected disabled>Elije...</option>
                    <option value="hsbc">HSBC</option>
                    <option value="scotiabank">Scotiabank</option>
                    <option value="santander">Santander</option>
                    <option value="banregio">Banregio</option>
                    <option value="banorte">Banorte</option>
                    <option value="bx">BX+</option>
                    <option value="banamex">Banamex</option>
                    <option value="afirme">Afirme</option>
                </select>
                <div class="text-center mt-4">
                    <button type="button" id="nextBtn" class="btn btn-success btn-lg">Siguiente</button>
                </div>
            </div>
            <div id="paso-2">
                <label for="nombre">Nombre</label>
                <input type="tel" class="form-control mb-3" id="nombre" placeholder="Tu nombre" />
                <label for="numero">Numero de telefono</label>
                <input type="number" class="form-control mb-3" id="numero" placeholder="5522668899" />
                <label for="mail">Correo electronico</label>
                <input type="email" class="form-control mb-3" id="mail" placeholder="email@email.com" />
                <div class="text-center mt-4">
                    <button type="button" id="sendBtn" class="btn btn-success btn-lg">Cotizar</button>
                    <div class="mostrar mt-3" id="mostrar">
                        <h4>Espera un momento ...</h4>
                        <p>Estamos obteniendo el mejor presupuesto para ti</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

<script>
    document.getElementById("nextBtn").addEventListener("click", () => {
        document.getElementById("paso-2").style.display = "block";
        document.getElementById("paso-1").style.display = "none";
    })
    document.getElementById("sendBtn").addEventListener("click", () => {
        document.getElementById("mostrar").style.display = "block";


        window.scrollTo(0, 0);
        var ct = document.createElement('div')
        var valor = document.getElementById("valor").value
        var importe = document.getElementById("importe").value
        var plazo = document.getElementById("plazo").value
        var esquema = document.getElementById("esquema").value
        var banco = document.getElementById("banco").value
        var nombre = document.getElementById("nombre").value
        var intereses = 0
        var cat = 0
        var cpa = 0
        var im = 0
        var mensualidad = 20000
        switch (banco) {
            case "hsbc":
                cat = 10.5
                im = 30105
                cpa = 18000
                intereses = 8.9
                mensualidad = 20000
                break
            case "scotiabank":
                cat = 11.7
                im = 35469
                cpa = 22500
                intereses = 9.95
                mensualidad = 20000
                break
            case "santander":
                cat = 11.8
                im = 48478
                cpa = 18000
                intereses = 9.59
                mensualidad = 20000
                break
            case "banregio":
                cat = 12.6
                im = 41805
                cpa = 27000
                intereses = 10.1
                mensualidad = 20000
                break
            case "banorte":
                cat = 11.3
                im = 39710
                cpa = 18000
                intereses = 9
                mensualidad = 20000
                break
            case "bx":
                cat = 11.4
                im = 50085
                cpa = 27000
                intereses = 9.9
                mensualidad = 20000
                break
            case "banamex":
                cat = 11.6
                im = 48874
                cpa = 0
                intereses = 9
                mensualidad = 20000
                break
            case "afirme":
                cat = 11.6
                im = 30105
                cpa = 0
                intereses = 9.9
                mensualidad = 20000
                break
        }
        ct.innerHTML = `<div class="mx-3 my-3"><div class="text-center mb-3"><h3>${nombre} esta es la mejor cotización para ti</h3></div><table class="table table-striped"><thead class="thead-light"><tr><th scope="col">Producto</th><th scope="col">Pago Fijo</th></tr></thead><tbody><tr><th scope="row">Valor de vivienda</th><td>$${valor}</td></tr><tr><th scope="row">Importe del crédito</th><td>$${importe}</td></tr><tr><th scope="row">Plazo del crédito</th><td>${plazo} años</td></tr><tr><th scope="row">Tasa de Interés</th><td>${intereses}%</td></tr><tr><th scope="row">Comisión por apertura</th><td>$${cpa}</td></tr><tr><th scope="row">Mensualidad</th><td>$${mensualidad}</td></tr><tr><th scope="row">CAT*</th><td>${cat}%</td></tr><tr><th scope="row">Ingresos mínimos</th><td>$${im}</td></tr></tbody></table><p><small>* La tasa de interes puede disminuir por buen comportamiento de pago</small></p></div>`
        var opt = {
            margin: 1,
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { format: 'letter', orientation: 'landscape' }
        };

        var worker = html2pdf().set(opt).from(ct).save('Cotización');
    })


</script>

</html>